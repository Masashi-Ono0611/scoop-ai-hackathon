# PHR オンチェーン・ハッカソン スコープ

## コンセプト
- パーソナルヘルスレコード (PHR) をオンチェーン化し、研究・検証可能なオープンデータにする。

## 課題
- 健康データがローカルDBに閉じており、オープンな研究利用が難しい。
- 保険会社などが独自データで処理し、恣意的なバイアスや改ざんが入り得る。

## 解決策（ハイレベル）
- iOS/Android のヘルス指標（例: 歩数、心拍、睡眠、体重など）を EVM L2（例: Base）にアンカーし、整合性とオープン性を確保。
- Sybil耐性・一意性のために World ID 等と任意で紐付け。
- アンカー済みデータを Dune 的にクエリ・可視化できるようにする。

## ハッカソンスコープ（短期コア体験）
- 最小 E2E: **デバイスデータ → Agent → SpoonOS → LLM → オンチェーンアンカー → クエリ/サマリ**
- データは小片（例: 1日の歩数/心拍）に絞り過剰実装を回避。
- 簡易 UI/CLI で実行し、Tx ハッシュと要約を表示。

## 必須要件（イベントより）
1. **SpoonOS 経由の LLM 呼び出し**
   - フロー: Agent → SpoonOS → LLM（既存デモを流用）。
2. **公式ツール or MCP 利用**
   - MCP ツールまたは公式ツールモジュールを使用。
   - フル呼び出しフロー + 基本的なエラーハンドリング。
   - 参考: `spoon_ai/llm`, `spoon_ai/tools`。

## Nice to have（審査/スポンサー目線）
- スポンサー技術の活用（例: Supabase メタデータ、Zilliz ベクター検索、Lovable/SHISA.AI 言語系など）。
- 簡易な分析ビュー（チャート/テーブル）の提供。
- World ID 連携のトグル。

## スコープ外（短期のため割愛）
- 本格的なモバイルアプリ実装（サンプルJSON/CSV入力で代替）。
- 大規模パイプラインや HIPAA レベルのプライバシー制御。
- 複雑な保険料ロジック。

## 技術プラン（最小）
- **データ取込**: 少量のヘルス指標 JSON/CSV を受け付け。
- **オンチェーンアンカー**: ハッシュ＋最小ペイロードを Base（またはテストネット）へ、シンプルなコントラクト/クライアント利用。
- **クエリ＆要約**: Agent が LLM に要約させ、Tx ハッシュリンクを提示。
- **MCP/ツール**: Tavily MCP で外部情報取得、または Spoon 公式ツール（ログ/クリプト等）。
- **エラーハンドリング**: LLM/ツール呼び出しを try/except でガードし、明確なメッセージを返す。

## マイルストーン
1) 取込スキャフォールド + サンプルファイル準備。
2) Agent → SpoonOS → LLM 配線（baseline_llm_demo を流用）。
3) MCP/ツール呼び出し追加（baseline_mcp_demo 流用）で情報補強。
4) 最小ペイロードをオンチェーンアンカーし、Tx ハッシュ返却。
5) UI/CLI で要約と Tx リンクを表示。

## オープンクエスチョン
- どのチェーン/ネットワークを使うか（Base mainnet vs testnet）。
- World ID 連携は必須か任意か。
- スポンサー技術の優先度（Supabase/Zilliz など）。
